{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\n// utility function\nimport { findAllParent, findMenuItem } from '../../shared/helper/utils';\n// data\nimport { MENU } from '../../shared/config/menu-meta';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nconst _c0 = a0 => ({\n  menu: a0,\n  className: \"nav-item\",\n  linkClassName: \"nav-link nav-link-ref\"\n});\nconst _c1 = a0 => ({\n  menu: a0,\n  className: \"nav-item dropdown\",\n  linkClassName: \"dropdown-toggle nav-link arrow-none nav-link-ref\"\n});\nconst _c2 = a0 => ({\n  \"active\": a0\n});\nconst _c3 = a0 => ({\n  \"show\": a0\n});\nconst _c4 = a0 => ({\n  menu: a0,\n  linkClassName: \" dropdown-toggle dropdown-item arrow-none nav-link-ref\"\n});\nconst _c5 = a0 => ({\n  menu: a0,\n  linkClassName: \"dropdown-item arrow-none nav-link-ref\"\n});\nfunction TopnavComponent_ng_container_7_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction TopnavComponent_ng_container_7_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TopnavComponent_ng_container_7_ng_container_1_ng_container_1_Template, 1, 0, \"ng-container\", 12);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const menu_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵnextContext();\n    const MenuItem_r3 = i0.ɵɵreference(13);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngTemplateOutlet\", MenuItem_r3)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(2, _c0, menu_r2));\n  }\n}\nfunction TopnavComponent_ng_container_7_ng_container_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction TopnavComponent_ng_container_7_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TopnavComponent_ng_container_7_ng_container_2_ng_container_1_Template, 1, 0, \"ng-container\", 12);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const menu_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵnextContext();\n    const MenuItemWithChildren_r4 = i0.ɵɵreference(9);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngTemplateOutlet\", MenuItemWithChildren_r4)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(2, _c1, menu_r2));\n  }\n}\nfunction TopnavComponent_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TopnavComponent_ng_container_7_ng_container_1_Template, 2, 4, \"ng-container\", 11)(2, TopnavComponent_ng_container_7_ng_container_2_Template, 2, 4, \"ng-container\", 11);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const menu_r2 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r4.hasSubmenu(menu_r2));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.hasSubmenu(menu_r2));\n  }\n}\nfunction TopnavComponent_ng_template_8_i_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\");\n  }\n  if (rf & 2) {\n    const menu_r7 = i0.ɵɵnextContext().menu;\n    i0.ɵɵclassMapInterpolate1(\"\", menu_r7.icon, \" me-1\");\n  }\n}\nfunction TopnavComponent_ng_template_8_ng_container_6_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction TopnavComponent_ng_template_8_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TopnavComponent_ng_template_8_ng_container_6_ng_container_1_Template, 1, 0, \"ng-container\", 12);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const subitem_r8 = ctx.$implicit;\n    i0.ɵɵnextContext(2);\n    const SubMenu_r9 = i0.ɵɵreference(11);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngTemplateOutlet\", SubMenu_r9)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(2, _c4, subitem_r8));\n  }\n}\nfunction TopnavComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 13)(1, \"a\", 14);\n    i0.ɵɵlistener(\"click\", function TopnavComponent_ng_template_8_Template_a_click_1_listener() {\n      const menu_r7 = i0.ɵɵrestoreView(_r6).menu;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.toggleMenuItem(menu_r7));\n    });\n    i0.ɵɵtemplate(2, TopnavComponent_ng_template_8_i_2_Template, 1, 3, \"i\", 15);\n    i0.ɵɵtext(3);\n    i0.ɵɵelement(4, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 17);\n    i0.ɵɵtemplate(6, TopnavComponent_ng_template_8_ng_container_6_Template, 2, 4, \"ng-container\", 10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const menu_r7 = ctx.menu;\n    const className_r10 = ctx.className;\n    const linkClassName_r11 = ctx.linkClassName;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(className_r10);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(16, _c2, ctx_r4.activeMenuItems.includes(menu_r7.key)));\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(linkClassName_r11);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"topnav-\", menu_r7.label, \"\");\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(18, _c2, ctx_r4.activeMenuItems.includes(menu_r7.key)));\n    i0.ɵɵattribute(\"aria-expanded\", !menu_r7.collapsed)(\"data-menu-key\", menu_r7.key);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", menu_r7.icon);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", menu_r7.label, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵattributeInterpolate1(\"aria-labelledby\", \"topnav-\", menu_r7.label, \"\");\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(20, _c3, !menu_r7.collapsed));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", menu_r7.children);\n  }\n}\nfunction TopnavComponent_ng_template_10_div_0_ng_container_5_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction TopnavComponent_ng_template_10_div_0_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TopnavComponent_ng_template_10_div_0_ng_container_5_ng_container_1_Template, 1, 0, \"ng-container\", 12);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const subitem_r14 = ctx.$implicit;\n    i0.ɵɵnextContext(3);\n    const SubMenu_r9 = i0.ɵɵreference(11);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngTemplateOutlet\", SubMenu_r9)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(2, _c5, subitem_r14));\n  }\n}\nfunction TopnavComponent_ng_template_10_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"a\", 14);\n    i0.ɵɵlistener(\"click\", function TopnavComponent_ng_template_10_div_0_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const menu_r13 = i0.ɵɵnextContext().menu;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.toggleMenuItem(menu_r13));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelement(3, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 17);\n    i0.ɵɵtemplate(5, TopnavComponent_ng_template_10_div_0_ng_container_5_Template, 2, 4, \"ng-container\", 10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext();\n    const menu_r13 = ctx_r14.menu;\n    const linkClassName_r16 = ctx_r14.linkClassName;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(linkClassName_r16);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"topnav-\", menu_r13.label, \"\");\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(11, _c2, ctx_r4.activeMenuItems.includes(menu_r13.key)));\n    i0.ɵɵattribute(\"data-menu-key\", menu_r13.key);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", menu_r13.label, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵattributeInterpolate1(\"aria-labelledby\", \"topnav-\", menu_r13.label, \"\");\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(13, _c3, !menu_r13.collapsed));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", menu_r13.children);\n  }\n}\nfunction TopnavComponent_ng_template_10_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const menu_r13 = i0.ɵɵnextContext().menu;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"routerLink\", menu_r13.link)(\"ngClass\", i0.ɵɵpureFunction1(4, _c2, ctx_r4.activeMenuItems.includes(menu_r13.key)));\n    i0.ɵɵattribute(\"data-menu-key\", menu_r13.key);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", menu_r13.label, \" \");\n  }\n}\nfunction TopnavComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TopnavComponent_ng_template_10_div_0_Template, 6, 15, \"div\", 18)(1, TopnavComponent_ng_template_10_a_1_Template, 2, 6, \"a\", 19);\n  }\n  if (rf & 2) {\n    const menu_r13 = ctx.menu;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.hasSubmenu(menu_r13));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r4.hasSubmenu(menu_r13));\n  }\n}\nfunction TopnavComponent_ng_template_12_i_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 25);\n  }\n  if (rf & 2) {\n    const menu_r17 = i0.ɵɵnextContext().menu;\n    i0.ɵɵclassMap(menu_r17.icon);\n  }\n}\nfunction TopnavComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 22)(1, \"a\", 23);\n    i0.ɵɵtemplate(2, TopnavComponent_ng_template_12_i_2_Template, 1, 2, \"i\", 24);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const menu_r17 = ctx.menu;\n    const className_r18 = ctx.className;\n    const linkClassName_r19 = ctx.linkClassName;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(className_r18);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(10, _c2, ctx_r4.activeMenuItems.includes(menu_r17.key)));\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(linkClassName_r19);\n    i0.ɵɵproperty(\"routerLink\", menu_r17.link)(\"ngClass\", i0.ɵɵpureFunction1(12, _c2, ctx_r4.activeMenuItems.includes(menu_r17.key)));\n    i0.ɵɵattribute(\"data-menu-key\", menu_r17.key);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", menu_r17.icon);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", menu_r17.label, \"\");\n  }\n}\nexport class TopnavComponent {\n  constructor(router) {\n    this.router = router;\n    this.navbarTheme = '';\n    this.navContainerCssClasses = '';\n    this.showMobileMenu = true;\n    this.menuItems = [];\n    this.activeMenuItems = [];\n    router.events.forEach(event => {\n      if (event instanceof NavigationEnd) {\n        this._activateMenu();\n      }\n    });\n  }\n  ngOnInit() {\n    this.initMenu();\n  }\n  /**\n   * On view init - activating menuitems\n   */\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this._activateMenu();\n    });\n  }\n  /**\n   * Initializing menuitems and controlling how many menu items can be displayed in it\n   */\n  initMenu() {\n    this.menuItems = MENU.filter(item => !item.isTitle ? item : null);\n    const defaultDisplayedItems = window.screen.width > 1366 ? 7 : 5;\n    if (this.menuItems.length > defaultDisplayedItems) {\n      const displayedItems = this.menuItems.slice(0, defaultDisplayedItems);\n      displayedItems[0].collapsed = true;\n      const otherItems = {\n        key: 'more',\n        label: 'More',\n        isTitle: false,\n        icon: 'uil-ellipsis-h',\n        collapsed: true,\n        children: this.menuItems.slice(defaultDisplayedItems, this.menuItems.length).map(i => ({\n          ...i,\n          parentKey: 'more'\n        }))\n      };\n      this.menuItems = [...displayedItems, otherItems];\n    }\n  }\n  /**\n  * Returns true or false if given menu item has child or not\n  * @param item menuItem\n  */\n  hasSubmenu(menu) {\n    return menu.children ? true : false;\n  }\n  /**\n   *  Toggle the dropdown menu\n   */\n  toggleMenuItem(menuItem) {\n    menuItem.collapsed = !menuItem.collapsed;\n    let openMenuItems;\n    if (!menuItem.collapsed) {\n      openMenuItems = [menuItem['key'], ...findAllParent(this.menuItems, menuItem)];\n      this.menuItems.forEach(menu => {\n        if (!openMenuItems.includes(menu.key)) {\n          menu.collapsed = true;\n        }\n      });\n    }\n  }\n  /**\n   * activate the menuitems\n   */\n  _activateMenu() {\n    const div = document.getElementById('topnav-menu-content');\n    let matchingMenuItem = null;\n    if (div) {\n      let items = div.getElementsByClassName('nav-link-ref');\n      for (let i = 0; i < items.length; ++i) {\n        if (window.location.pathname === items[i].pathname) {\n          matchingMenuItem = items[i];\n          break;\n        }\n      }\n      if (matchingMenuItem) {\n        const mid = matchingMenuItem.getAttribute('data-menu-key');\n        const activeMt = findMenuItem(this.menuItems, mid);\n        if (activeMt) {\n          this.activeMenuItems = [activeMt['key'], ...findAllParent(this.menuItems, activeMt)];\n        }\n      }\n    }\n    this.menuItems.forEach(menu => {\n      menu.collapsed = true;\n    });\n  }\n  static #_ = this.ɵfac = function TopnavComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TopnavComponent)(i0.ɵɵdirectiveInject(i1.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TopnavComponent,\n    selectors: [[\"app-horizontal-topnav\"]],\n    inputs: {\n      navbarTheme: \"navbarTheme\",\n      navContainerCssClasses: \"navContainerCssClasses\",\n      showMobileMenu: \"showMobileMenu\"\n    },\n    decls: 14,\n    vars: 6,\n    consts: [[\"collapse\", \"ngbCollapse\"], [\"navlist\", \"\"], [\"MenuItemWithChildren\", \"\"], [\"SubMenu\", \"\"], [\"MenuItem\", \"\"], [1, \"topnav\"], [1, \"container-fluid\"], [1, \"navbar\", \"navbar-expand-lg\", \"topnav-menu\"], [\"id\", \"topnav-menu-content\", 1, \"navbar-collapse\", 3, \"ngbCollapseChange\", \"ngbCollapse\"], [1, \"navbar-nav\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [\"ngbDropdown\", \"\", 3, \"ngClass\"], [\"href\", \"javascript: void(0);\", \"role\", \"button\", 3, \"click\", \"ngClass\", \"id\"], [3, \"class\", 4, \"ngIf\"], [1, \"arrow-down\"], [1, \"dropdown-menu\", 3, \"ngClass\"], [\"class\", \"dropdown\", 4, \"ngIf\"], [\"class\", \"dropdown-item nav-link-ref\", 3, \"routerLink\", \"ngClass\", 4, \"ngIf\"], [1, \"dropdown\"], [1, \"dropdown-item\", \"nav-link-ref\", 3, \"routerLink\", \"ngClass\"], [3, \"ngClass\"], [3, \"routerLink\", \"ngClass\"], [\"class\", \"me-1\", 3, \"class\", 4, \"ngIf\"], [1, \"me-1\"]],\n    template: function TopnavComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6)(2, \"nav\", 7)(3, \"div\", 8, 0);\n        i0.ɵɵlistener(\"ngbCollapseChange\", function TopnavComponent_Template_div_ngbCollapseChange_3_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.showMobileMenu = $event);\n        });\n        i0.ɵɵelementStart(5, \"ul\", 9, 1);\n        i0.ɵɵtemplate(7, TopnavComponent_ng_container_7_Template, 3, 2, \"ng-container\", 10);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵtemplate(8, TopnavComponent_ng_template_8_Template, 7, 22, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor)(10, TopnavComponent_ng_template_10_Template, 2, 2, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor)(12, TopnavComponent_ng_template_12_Template, 5, 14, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵclassMap(ctx.navContainerCssClasses);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassMap(ctx.navbarTheme ? \"navbar-\" + ctx.navbarTheme : \"\");\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngbCollapse\", !ctx.showMobileMenu);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.menuItems);\n      }\n    },\n    dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i2.NgTemplateOutlet, i3.NgbCollapse, i3.NgbDropdown, i1.RouterLink]\n  });\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}