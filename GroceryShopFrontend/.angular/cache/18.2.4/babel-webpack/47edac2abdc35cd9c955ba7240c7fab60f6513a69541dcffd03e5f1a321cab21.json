{"ast":null,"code":"// data\nimport { tableData } from './data';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../shared/page-title/page-title.component\";\nimport * as i2 from \"../../../shared/advanced-table/advanced-table.component\";\nexport class AdvancedComponent {\n  constructor() {\n    this.pageTitle = [];\n    this.records = [];\n    this.columns = [];\n    this.pageSizeOptions = [10, 25, 50, 100];\n  }\n  ngOnInit() {\n    this.pageTitle = [{\n      label: 'Tables',\n      path: '/'\n    }, {\n      label: 'Advanced Tables',\n      path: '/',\n      active: true\n    }];\n    this._fetchData();\n    this.initTableCofig();\n  }\n  /**\n   * fetches table records\n   */\n  _fetchData() {\n    this.records = tableData;\n  }\n  /**\n   * initialize advanced table columns\n   */\n  initTableCofig() {\n    this.columns = [{\n      name: 'name',\n      label: 'Name',\n      formatter: record => record.name,\n      width: 245\n    }, {\n      name: 'position',\n      label: 'Position',\n      formatter: record => record.position,\n      width: 360\n    }, {\n      name: 'office',\n      label: 'Office',\n      formatter: record => record.office,\n      width: 180\n    }, {\n      name: 'age',\n      label: 'Age',\n      formatter: record => record.age\n    }, {\n      name: 'date',\n      label: 'Date',\n      formatter: record => record.date\n    }, {\n      name: 'salary',\n      label: 'Salary',\n      formatter: record => record.salary\n    }];\n  }\n  // compares two cell values\n  compare(v1, v2) {\n    return v1 < v2 ? -1 : v1 > v2 ? 1 : 0;\n  }\n  /**\n   * Sort the table data\n   * @param event column name, sort direction\n   */\n  onSort(event) {\n    if (event.direction === '') {\n      this.records = tableData;\n    } else {\n      this.records = [...this.records].sort((a, b) => {\n        const res = this.compare(a[event.column], b[event.column]);\n        return event.direction === 'asc' ? res : -res;\n      });\n    }\n  }\n  /**\n  * Table Data Match with Search input\n  * @param tables Table field value fetch\n  * @param term Search the value\n  */\n  matches(tables, term) {\n    return tables.name.toLowerCase().includes(term) || tables.position.toLowerCase().includes(term) || tables.office.toLowerCase().includes(term) || String(tables.age).includes(term) || tables.date.toLowerCase().includes(term) || tables.salary.toLowerCase().includes(term);\n  }\n  /**\n   * Search Method\n  */\n  searchData(searchTerm) {\n    if (searchTerm === '') {\n      this._fetchData();\n    } else {\n      let updatedData = tableData;\n      //  filter\n      updatedData = updatedData.filter(record => this.matches(record, searchTerm));\n      this.records = updatedData;\n    }\n  }\n  static #_ = this.ɵfac = function AdvancedComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || AdvancedComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AdvancedComponent,\n    selectors: [[\"app-tables-advanced\"]],\n    decls: 10,\n    vars: 8,\n    consts: [[\"title\", \"Advanced Tables\", 3, \"breadcrumbItems\"], [1, \"row\"], [1, \"col-12\"], [1, \"card\"], [1, \"card-body\"], [1, \"header-title\"], [1, \"text-muted\", \"font-14\"], [\"tableClasses\", \"table-striped\", 3, \"search\", \"sort\", \"tableData\", \"columns\", \"pagination\", \"pageSizeOptions\", \"hasRowSelection\", \"isSearchable\", \"isSortable\"]],\n    template: function AdvancedComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-page-title\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h4\", 5);\n        i0.ɵɵtext(6, \"Advanced table\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"p\", 6);\n        i0.ɵɵtext(8, \" This table provides functionalities like search and filtering, sorting and pagination \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"app-advanced-table\", 7);\n        i0.ɵɵlistener(\"search\", function AdvancedComponent_Template_app_advanced_table_search_9_listener($event) {\n          return ctx.searchData($event);\n        })(\"sort\", function AdvancedComponent_Template_app_advanced_table_sort_9_listener($event) {\n          return ctx.onSort($event);\n        });\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"breadcrumbItems\", ctx.pageTitle);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"tableData\", ctx.records)(\"columns\", ctx.columns)(\"pagination\", true)(\"pageSizeOptions\", ctx.pageSizeOptions)(\"hasRowSelection\", true)(\"isSearchable\", true)(\"isSortable\", true);\n      }\n    },\n    dependencies: [i1.PageTitleComponent, i2.AdvancedTableComponent]\n  });\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}